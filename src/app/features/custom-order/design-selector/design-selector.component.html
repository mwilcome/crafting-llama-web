<div class="design-selector">
    <h1 class="page-title">Select a Design</h1>

    <div class="pricing-disclaimer">
        <p>Prices shown are estimated fees for the embroidery design. Base item costs (e.g., shirt, hat, bib) are additional and vary by type. Final quotes are provided after order submission. <a routerLink="/pricing">View pricing guide</a> for examples and details.</p>
        <div class="tooltip-container">
            <svg class="info-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="8" cy="8" r="7.5" stroke="currentColor"/>
                <path d="M8 12V7" stroke="currentColor" stroke-width="2"/>
                <circle cx="8" cy="4" r="1" fill="currentColor"/>
            </svg>
            <span class="tooltip-text">This helps account for custom options like thread choice and item sourcing. Questions? Contact us!</span>
        </div>
    </div>

    <div class="search-wrapper">
        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" fill="none">
            <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" fill="none"/>
            <line x1="16.5" y1="16.5" x2="21" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <input placeholder="Search designs..." [(ngModel)]="searchTerm">
        @if (searchTerm()) {
            <button class="clear-btn" (click)="clearSearch()">Ã—</button>
        }
    </div>

    <div class="tag-filters">
        @for (tag of uniqueTags(); track tag) {
            <button class="chip" [class.active]="selectedTags().has(tag)" (click)="toggleTag(tag)">
                {{ tag }}
            </button>
        }
    </div>

    @if (filteredDesigns().length > 0) {
        <div class="design-grid">
            @for (design of filteredDesigns(); track design.id) {
                <app-design-card [design]="design"></app-design-card>
            }
        </div>
    } @else {
        <p class="no-results">No designs match your filters.</p>
    }

    <app-price-disclaimer></app-price-disclaimer>
</div>